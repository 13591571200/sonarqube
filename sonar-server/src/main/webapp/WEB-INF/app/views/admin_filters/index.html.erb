<div class="admin_page">
  <h1><%= message('filters.default') -%></h1>
  <p><%= message('filters.default.description') -%></p>

  <table class="data" id="admin_console">
    <thead>
    <tr>
      <th class="name"><%= message('name') -%></th>
      <th><%= message('author') -%></th>
      <th><%= message('order') -%></th>
      <th class="right"><%= message('operations') -%></th>
    </tr>
    </thead>
    <tbody>
    <% if @actives.empty? %>
      <tr class="even">
        <td colspan="4">No results.</td>
      </tr>
    <% else %>
      <% @actives.each_with_index do |active, index| %>
        <tr id="active-<%= u active.name -%>" class="<%= cycle('even', 'odd', :name => 'actives') -%>">
          <td><%= active.name %></td>
          <td>
            <%= h(active.author_name) %>
          </td>
          <td>
            <% if index>0 %>
              <%= link_to image_tag('blue-up.png'), {:action => :up, :id => active.id}, :method => :post, :id => "up-#{u active.name}" %>
            <% else %>
              <%= image_tag('transparent_16.gif') %>
            <% end %>
            <% if index<@actives.size-1 %>
              <%= link_to image_tag('blue-down.png'), {:action => :down, :id => active.id}, :method => :post, :id => "down-#{u active.name}" %>
            <% end %>
          </td>
          <td class="thin nowrap right">
            <%= link_to 'Remove', {:action => 'remove', :id => active.id}, {:confirm => 'Are you sure to remove it from default filters ?', :method => :post, :id => "remove-#{u active.name}", :class => 'link-action'} %>
          </td>
        </tr>
      <% end %>
    <% end %>
    </tbody>
  </table>

  <h1><%= message('filters.shared') -%></h1>
  <p><%= message('filters.shared.description') -%></p>

  <table class="data" id="shared">
    <thead>
    <tr>
      <th><%= message('name') -%></th>
      <th><%= message('author') -%></th>
      <th class="right"><%= message('operations') -%></th>
    </tr>
    </thead>
    <tbody>
    <% if @shared_filters.nil? || @shared_filters.empty? %>
      <tr class="even">
        <td colspan="3">No results.</td>
      </tr>
    <% else %>
      <% @shared_filters.each do |filter| %>
        <tr class="<%= cycle('even', 'odd') -%>">
          <td><%= h(filter.name) -%></td>
          <td><%= h(filter.user.name) if filter.user -%></td>
          <td class="thin nowrap right"><%= link_to 'Add to defaults', {:action => 'add', :id => filter.id}, {:method => :post, :id => "add-#{u filter.name}", :class => 'link-action'} %></td>
        </tr>
      <% end %>
    <% end %>
    </tbody>
  </table>
</div>
