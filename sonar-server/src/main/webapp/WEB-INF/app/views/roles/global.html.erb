<h1 class="marginbottom10"><%= message 'global_permissions.page' -%></h1>

<table class="data width100" id="global-roles">
  <thead>
  <tr >
    <th><%= message('global_permissions.permission') -%></th>
    <th width="30%"><%= message('global_permissions.users') -%></th>
    <th width="30%"><%= message('global_permissions.groups') -%></th>
  </tr>
  </thead>
  <tbody>
    <% ['admin', 'profileadmin', 'shareDashboard', 'scan', 'dryrun'].each do |global_permissions| %>
    <tr class="<%= cycle('even', 'odd', :name => 'global_permission') -%>" >
      <td valign="top">
        <b><%= message('global_permissions.' + global_permissions) -%></b><br/>
        <span class="small gray"><%= message('global_permissions.' + global_permissions + '.desc') -%></span></td>
      <td valign="top" style="word-break:break-all;width:30%;">
        <span><%= users(global_permissions).map(&:name).join(', ') -%></span>
        (<%= link_to "select", {:action => 'edit_users', :role => global_permissions, :redirect => 'global'}, :class => 'link-action' -%>)
      </td>
      <td valign="top" style="word-break:break-all;width:30%;">
        <span><%= groups(global_permissions).map{|g| group_name(g)}.join(', ') %></span>
        (<%= link_to "select", {:action => 'edit_groups', :role => global_permissions, :redirect => 'global'}, :class => 'link-action' -%>)
      </td>
    </tr>
    <% end %>
  </tbody>
</table>
