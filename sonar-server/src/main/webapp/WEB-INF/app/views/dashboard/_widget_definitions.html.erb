<div style="float: right; padding: 0 3px">
  Search:
  <input id="filter-widget-box" name="filter-widget-box" size="10" onKeyUp="filtersWidgetsByContent(this.value);"/>
</div>

<div style="line-height: 20px; vertical-align: middle; padding: 0 3px; margin-right: 10px">
  <ul class="horizontal widget_categs" id="widget-filters">
    <li>Category:</li>
    <li class="<%= 'selected' if category.blank? -%>">
      <a href="#" onClick="return filterWidgetsByCategory('')" id="widget-filter-none"><%= message('none') -%></a>
    </li>
    <% @widget_categories.each do |c| %>
      <li class="<%= 'selected' if category==c -%>">
        <a href="#" onClick="return filterWidgetsByCategory('<%= escape_javascript(c) -%>')" id="widget-filter-<%= u(c) -%>"><%= h(c) -%></a>
      </li>
    <% end %>
  </ul>
  <%= image_tag 'loading.gif', :style => 'vertical-align: top; display: none', :id => 'filter-widgets-loading' -%>
</div>
<div style="clear: both"></div>

<% @widget_definitions.each do |definition| %>
  <%= render :partial => 'widget_definition', :locals => {:definition => definition, :dashboard => @dashboard, :resource => @resource, :category => category} %>
<% end %>

