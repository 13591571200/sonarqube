<script>
  var sonarRecentHistory = new Sonar.RecentHistory('<%= ApplicationController.root_context -%>')
                                       .addTranslation('clear', '<%= message('layout.recent_history.clear') -%>')
                                       .addTranslation('no_history_yet', '<%= message('layout.recent_history.no_history_yet') -%>');
  
  sonarRecentHistory.add('<%= @resource ? @resource.key : "" -%>', 
                         '<%= @resource ? @resource.name : "" -%>', 
                         '<%= @resource ? @resource.qualifier : "" -%>');  
</script>

<div class="dropdown">
  <a href="#" class="link-more" onclick="sonarRecentHistory.populateRecentHistoryDropDown(); $('sonar_recent_history_dropdown').toggle();return false;"><%= message('layout.recent_history.link') -%></a>
  
  <ul style="display: none" class="dropdown-menu" id="sonar_recent_history_dropdown" onmouseout="this.hide();" onmouseover="this.show();">
  </ul>
  
</div>