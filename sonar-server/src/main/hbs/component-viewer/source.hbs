<table class="code">
  <tr class="row row-hidden" data-line-number="0">
    {{#if settings.coverage}}
      <td class="stat coverage-tests"></td>
      <td class="stat coverage-conditions"></td>
    {{/if}}
    {{#if settings.duplications}}
      <td class="stat"></td>
    {{/if}}
    {{#if settings.scm}}
      <td class="stat"></td>
    {{/if}}
    <td class="stat lid"></td>
    <td class="line"></td>
  </tr>

  {{#each source}}
    {{#if show}}
      <tr class="row"
          data-line-number="{{lineNumber}}">

        {{#if ../../settings.duplications}}
          <td class="stat duplications">
            {{#each duplications}}
              <span class="duplication {{#if this}}duplication-exists{{/if}}"></span>
            {{/each}}
          </td>
        {{/if}}

        {{#if ../../settings.scm}}
          <td class="stat {{#if scm}}scm{{/if}}">
            {{#if scm}}
              <span class="scm-date">{{scm.date}}</span>
              <span class="scm-author" title="{{scm.author}}">{{scm.author}}</span>
            {{/if}}
          </td>
        {{/if}}

        {{#if ../../settings.coverage}}
          <td class="stat coverage-tests {{#if coverage}}coverage-{{#if coverage.covered}}green{{else}}red{{/if}}{{/if}}">
            {{#if coverage}}
              <span>{{coverage.testCases}}</span>
            {{/if}}
          </td>

          <td class="stat coverage-branches {{#if coverage}}{{#if coverage.branchCoverageStatus}}coverage-{{coverage.branchCoverageStatus}}{{/if}}{{/if}}">
            {{#if coverage}}
              {{#if coverage.branches}}
                <span>{{coverage.coveredBranches}}/{{coverage.branches}}</span>
              {{/if}}
            {{/if}}
          </td>
        {{/if}}

        <td class="stat lid">{{lineNumber}}</td>

        <td class="line"><pre>{{{code}}}</pre></td>
      </tr>
    {{/if}}
  {{/each}}
</table>